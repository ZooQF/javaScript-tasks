<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>task-4</title>
    <style>
        section>ul>li{
            color: white;
            display: inline-block;
            background-color: #d45d5c;
            text-align: center;
            line-height: 50px;
            width:100px;
            height: 50px;
            margin-right: 20px;
            margin-bottom: 20px;
            cursor: pointer;
        }
        section>ul>li>span{
            color: #43b29d;
            font-weight: 900;
        }
    </style>
</head>
<body>
<!--操作部分-->
<p>输入数据以空格分隔</p>
<form action="" id="" name="" method="get|lost">
    <textarea id="text"></textarea>
    <input type="button" value="左侧入" id="leftIn">
    <input type="button" value="右侧入" id="rightIn">
    <input type="button" value="左侧出" id="leftOut">
    <input type="button" value="右侧出" id="rightOut">
    <p>查询文本输入框</p>
    <input type="text" id="word">
    <input type="button" id="search" value="search">
</form>

<!--队列部分-->
<section>
    <ul id="zone">
    </ul>
</section>
<script>
    //    封装获取id的函数，简化代码
    function byId(id){
        return typeof(id)==="string"?document.getElementById(id):id;
    }
    //    定义其他变量
    var text=byId("text"),
            leftIn=byId("leftIn"),
            rightIn=byId("rightIn"),
            leftOut=byId("leftOut"),
            rightOut=byId("rightOut"),
            zone=byId("zone"),
            lilist=document.getElementsByTagName("li"),
            str="";
    //    封装两个函数：左入与右入
    function changeleft() {
        var node=document.createElement("li"),
                strr=new Array();
//        将输入字符串以空格为基准分隔
        strr=text.value.split(" ");
        for(var i=0;i<strr.length;i++){
            node.innerHTML=strr[i];
            zone.insertBefore(node,zone.firstChild);
            text.value="";
            node=document.createElement("li");
        }
    }
    function changeright() {
        var node=document.createElement("li"),
                strr=[];
//        将输入字符串以空格为基准分隔
        strr=text.value.split(" ");
        for(var i=0;i<strr.length;i++){
            node.innerHTML=strr[i];
            zone.appendChild(node);
            text.value="";
            node=document.createElement("li");
        }
    }
    //        封装两个函数：删除左与删除右

    function delleft() {
        lilist[0].remove();
    }
    function delright() {
        lilist[lilist.length-1].remove();
    }
    //         点击后对数组进行不同操作
    leftIn.onclick=function () {
        changeleft();
    }
    rightIn.onclick=function () {
        changeright();
    }
    leftOut.onclick=function () {
        delleft()
    }
    rightOut.onclick=function () {
        delright();
    }

    // 点击队列中任一元素并将其删除
    zone.addEventListener("click",function () {
        if (event.target.nodeName.toLowerCase() == "li") {
            zone.removeChild(event.target);
        }
    })
//文本查询
    var word=byId("word"),search=byId("search");
    search.onclick=function () {
        for (var i=0;i<lilist.length;i++){
//            建立正则表达式来进行搜索队列中符合的字符，并以span替换,将字体变为蓝色
            var inner=lilist[i].innerHTML.replace(new RegExp(word.value,"g"),"<span>"+word.value+"</span>");
            lilist[i].innerHTML=inner;
        }
    }
</script>
</body>
</html>